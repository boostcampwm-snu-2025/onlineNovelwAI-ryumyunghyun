# 사용자 스토리 (User Stories)

## Given-When-Then 형식의 시나리오

---

## Epic 1: 소설 작성 (Novel Writing)

### Story 1.1: 새 소설 프로젝트 생성

```gherkin
Feature: 새로운 소설 프로젝트 시작

Scenario: 사용자가 새 소설을 작성하기 시작함
  Given 나는 로그인된 소설 작가이다
  When "새 소설" 버튼을 클릭한다
  And 제목에 "나의 첫 판타지 소설"을 입력한다
  And 장르를 "판타지"로 선택한다
  And 간단한 줄거리를 입력한다
  And "생성" 버튼을 클릭한다
  Then 새로운 소설 프로젝트가 생성된다
  And 소설 에디터 페이지로 이동한다
  And 빈 챕터 1이 표시된다
  And "자동 저장 활성화" 알림이 표시된다
```

### Story 1.2: 소설 챕터 작성

```gherkin
Feature: 소설 챕터 내용 작성

Scenario: 사용자가 챕터를 작성함
  Given "나의 첫 판타지 소설" 프로젝트를 가지고 있다
  And 에디터 페이지에 있다
  When 텍스트 에디터에 "주인공은 어두운 숲에서 깨어났다..."를 입력한다
  Then 내용이 30초마다 자동 저장된다
  And "마지막 저장: [시간]" 표시가 나타난다
  And 단어 수가 실시간으로 업데이트된다
  And 하단에 "53 단어" 표시가 보인다
```

### Story 1.3: 챕터 관리

```gherkin
Feature: 챕터 추가 및 관리

Scenario: 새 챕터 추가
  Given 챕터 1을 작성 완료했다
  And 2000자 이상의 내용이 있다
  When "챕터 추가" 버튼을 클릭한다
  Then 챕터 2가 생성된다
  And 챕터 목록에서 1과 2 사이를 이동할 수 있다
  And 각 챕터의 상태(작성 중/완료)가 표시된다

Scenario: 챕터 순서 변경
  Given 챕터 1, 2, 3이 존재한다
  When 챕터 2를 드래그하여 챕터 1 앞으로 이동한다
  Then 챕터 순서가 2, 1, 3으로 변경된다
  And 변경 사항이 자동 저장된다

Scenario: 챕터 삭제
  Given 챕터 3을 선택한다
  When "삭제" 버튼을 클릭한다
  And 확인 모달에서 "삭제" 를 선택한다
  Then 챕터 3이 목록에서 제거된다
  And "챕터가 삭제되었습니다" 알림이 표시된다
```

### Story 1.4: 초안 저장 및 불러오기

```gherkin
Feature: 작성 중인 내용 저장

Scenario: 자동 저장 기능
  Given 에디터에서 내용을 작성 중이다
  When 30초가 경과한다
  Then 현재 내용이 자동으로 서버에 저장된다
  And 저장 성공 아이콘이 표시된다

Scenario: 브라우저 종료 후 재접속
  Given 작성 중이던 내용이 자동 저장되었다
  And 브라우저를 닫았다
  When 다시 로그인하여 해당 소설을 연다
  Then 마지막 저장 시점의 내용이 복원된다
  And "이전 세션에서 계속" 알림이 표시된다
```

---

## Epic 2: AI 피드백 (AI Feedback)

### Story 2.1: 특정 페르소나에게 리뷰 요청

```gherkin
Feature: AI로부터 소설 피드백 받기

Scenario: 단일 페르소나 리뷰 요청
  Given 챕터 1을 2000자 이상 작성 완료했다
  And 챕터 상태를 "리뷰 준비 완료"로 변경했다
  When "피드백 받기" 버튼을 클릭한다
  And "문학 평론가" 페르소나를 선택한다
  And "리뷰 생성" 버튼을 클릭한다
  Then 로딩 인디케이터가 표시된다 (30-60초)
  And AI가 내 챕터를 분석한다
  And 장점과 개선점이 포함된 리뷰가 표시된다
  And 리뷰가 히스토리에 저장된다
  And 평점(1-10)이 표시된다
```

### Story 2.2: 여러 페르소나에게 동시 피드백 요청

```gherkin
Feature: 다양한 관점의 AI 피드백 비교

Scenario: 다중 페르소나 리뷰
  Given 챕터 1이 리뷰 준비 상태다
  When "피드백 받기" 버튼을 클릭한다
  And "캐주얼 독자", "편집자", "장르 팬" 페르소나를 선택한다
  And "모든 피드백 받기" 버튼을 클릭한다
  Then 3개의 리뷰가 순차적으로 생성된다
  And 각 리뷰는 해당 페르소나의 관점을 반영한다
  And 리뷰를 나란히 비교할 수 있는 UI가 제공된다
  And 각 리뷰에 페르소나 아이콘과 이름이 표시된다
```

### Story 2.3: 컨텍스트 기반 AI 리뷰

```gherkin
Feature: AI가 이전 챕터를 기억하고 피드백 제공

Scenario: 연속된 챕터 리뷰
  Given 챕터 1-3이 "캐주얼 독자"에게 리뷰 받았다
  And 챕터 4를 작성 완료했다
  When 챕터 4를 "캐주얼 독자"에게 리뷰 요청한다
  Then AI가 이전 챕터의 사건을 언급한다
  And "챕터 2에서 등장한 부캐릭터가 잘 활용되었네요" 같은 코멘트가 있다
  And 캐릭터 발전 일관성을 평가한다
  And 플롯 연결성에 대한 피드백이 포함된다

Scenario: 설정 충돌 감지
  Given 챕터 1에서 "주인공은 마법을 못 쓴다"고 설정했다
  And 챕터 5에서 "주인공이 강력한 마법을 사용했다"고 작성했다
  When "편집자" 페르소나에게 리뷰 요청한다
  Then "설정 불일치가 발견되었습니다" 경고가 포함된다
  And 구체적으로 어떤 부분이 모순인지 인용된다
```

### Story 2.4: 리뷰 히스토리 조회

```gherkin
Feature: 과거 리뷰 확인 및 비교

Scenario: 챕터별 리뷰 히스토리
  Given 챕터 3을 여러 번 수정하고 리뷰 받았다
  When "리뷰 히스토리" 탭을 클릭한다
  Then 시간순으로 정렬된 모든 리뷰가 표시된다
  And 각 리뷰의 날짜, 페르소나, 평점이 보인다
  And 평점 변화 추이 그래프가 표시된다

Scenario: 리뷰 상세 보기
  Given 리뷰 히스토리에서 특정 리뷰를 선택한다
  When 리뷰 카드를 클릭한다
  Then 전체 리뷰 내용이 모달로 표시된다
  And 세부 평가 항목(플롯/캐릭터/페이싱 등)이 보인다
  And 인용된 텍스트와 코멘트가 표시된다
```

---

## Epic 3: 지표 및 게이미피케이션 (Metrics & Gamification)

### Story 3.1: 작성 지표 대시보드

```gherkin
Feature: 작성 진행 상황 및 통계 확인

Scenario: 개인 대시보드 조회
  Given 5개의 챕터를 작성했다
  And 15개의 AI 리뷰를 받았다
  When "대시보드" 메뉴를 클릭한다
  Then 총 단어 수가 표시된다 (예: 25,340 단어)
  And AI 평균 평점 추이 그래프가 보인다
  And 가장 활발한 페르소나가 표시된다
  And 작성 연속 일수(스트릭)가 표시된다
  And 이번 주/월 작성량이 표시된다
```

### Story 3.2: 페르소나별 참여 지표

```gherkin
Feature: 각 AI 페르소나의 평가 추이 확인

Scenario: 페르소나 메트릭 조회
  Given 각 페르소나가 내 챕터들을 리뷰했다
  When "페르소나 메트릭" 탭을 선택한다
  Then 개별 페르소나별 평균 평점이 표시된다
  And 시간 경과에 따른 평점 그래프가 각각 보인다
  And 페르소나별 참여도(낮음/보통/높음)가 표시된다
  And 페르소나별 주요 코멘트 요약이 제공된다

Scenario: 페르소나 비교 분석
  Given "문학 평론가"는 평균 6점을 주었다
  And "캐주얼 독자"는 평균 8점을 주었다
  When 비교 차트를 확인한다
  Then 어떤 페르소나가 더 호의적인지 알 수 있다
  And "대중성은 높지만 문학성을 높일 필요가 있음" 같은 인사이트가 제공된다
```

### Story 3.3: 업적 시스템

```gherkin
Feature: 작성 목표 달성 시 배지 획득

Scenario: 연속 작성 업적
  Given 7일 연속으로 소설을 작성했다
  When 시스템이 내 진행 상황을 확인한다
  Then "주간 전사" 배지를 획득한다
  And 화면 상단에 축하 알림이 표시된다
  And 배지가 내 프로필에 추가된다
  And 배지 획득 목록에서 확인할 수 있다

Scenario: 단어 수 업적
  Given 총 50,000 단어를 작성했다
  When 마일스톤에 도달한다
  Then "중편 작가" 배지를 획득한다
  And 다음 업적(100,000 단어)까지의 진행률이 표시된다

Scenario: 품질 업적
  Given 모든 페르소나로부터 평균 8점 이상을 받았다
  When 평가 기준을 충족한다
  Then "만장일치" 배지를 획득한다
  And 희귀도 "레어" 표시가 추가된다
```

### Story 3.4: 성장 추이 분석

```gherkin
Feature: 시간에 따른 작성 실력 향상 확인

Scenario: 평점 추이 확인
  Given 20개의 챕터를 작성하고 리뷰 받았다
  When "성장 분석" 탭을 연다
  Then 초기 챕터 vs 최근 챕터 평점 비교가 표시된다
  And "평균 평점이 5.2에서 7.8로 상승했습니다" 메시지가 보인다
  And 가장 많이 개선된 평가 항목이 하이라이트된다

Scenario: 약점 파악
  Given AI 리뷰 데이터가 축적되었다
  When 분석 알고리즘이 실행된다
  Then "대화 묘사" 항목이 평균 5점으로 가장 낮다는 것을 보여준다
  And "대화 작성 가이드" 링크가 제공된다
  And 개선 추천 사항이 표시된다
```

---

## Epic 4: 사용자 관리 (User Management)

### Story 4.1: 회원가입

```gherkin
Feature: 계정 생성

Scenario: 신규 사용자 가입
  Given 회원가입 페이지에 있다
  When 이메일 "writer@example.com"을 입력한다
  And 비밀번호 "SecurePass123!"을 입력한다
  And 비밀번호 확인을 입력한다
  And 필명 "신인작가"를 입력한다
  And "가입하기" 버튼을 클릭한다
  Then 내 계정이 생성된다
  And 환영 이메일을 받는다
  And 온보딩 튜토리얼 페이지로 이동한다
  And "첫 소설 작성하기" 가이드가 표시된다
```

### Story 4.2: 로그인

```gherkin
Feature: 계정 로그인

Scenario: 기존 사용자 로그인
  Given 로그인 페이지에 있다
  When 이메일과 비밀번호를 입력한다
  And "로그인" 버튼을 클릭한다
  Then 인증이 완료된다
  And 대시보드로 이동한다
  And "돌아오신 것을 환영합니다, [필명]님!" 메시지가 표시된다

Scenario: 로그인 실패
  Given 잘못된 비밀번호를 입력한다
  When "로그인" 버튼을 클릭한다
  Then "이메일 또는 비밀번호가 올바르지 않습니다" 오류가 표시된다
  And 로그인 폼이 초기화되지 않는다 (이메일은 유지)
```

### Story 4.3: 프로필 관리

```gherkin
Feature: 사용자 프로필 수정

Scenario: 프로필 정보 업데이트
  Given 설정 페이지에 있다
  When 필명을 "신인작가"에서 "베테랑작가"로 변경한다
  And 프로필 이미지를 업로드한다
  And "저장" 버튼을 클릭한다
  Then 변경 사항이 저장된다
  And "프로필이 업데이트되었습니다" 알림이 표시된다
  And 모든 페이지에서 새 필명이 표시된다
```

---

## Epic 5: 소설 발견 (Novel Discovery) - 미래 기능

### Story 5.1: 공개 소설 탐색

```gherkin
Feature: 다른 작가의 공개 소설 읽기

Scenario: 트렌딩 소설 조회
  Given 소설들이 작가에 의해 공개로 설정되었다
  When "발견" 메뉴를 클릭한다
  Then AI 평점 기반 트렌딩 소설 목록이 표시된다
  And 장르별 필터를 적용할 수 있다
  And 각 소설의 평균 AI 평점이 표시된다
  And 공개된 챕터를 읽을 수 있다

Scenario: 장르별 필터링
  Given "발견" 페이지에 있다
  When "판타지" 장르를 선택한다
  Then 판타지 소설만 필터링되어 표시된다
  And "AI 평점 높은 순" 정렬 옵션을 선택할 수 있다
```

---

## Epic 6: 알림 및 커뮤니케이션

### Story 6.1: 알림 받기

```gherkin
Feature: 중요 이벤트 알림

Scenario: AI 리뷰 완료 알림
  Given AI에게 리뷰를 요청했다
  When 리뷰 생성이 완료된다
  Then 브라우저 알림이 표시된다
  And 알림 센터에 "새 리뷰가 도착했습니다" 메시지가 추가된다
  And 알림을 클릭하면 리뷰 페이지로 이동한다

Scenario: 업적 달성 알림
  Given 새로운 업적을 달성했다
  When 시스템이 이를 감지한다
  Then 화면 상단에 축하 배너가 표시된다
  And 알림음이 재생된다 (설정에서 활성화한 경우)
```

---

## Epic 7: 설정 및 개인화

### Story 7.1: 자동 저장 설정

```gherkin
Feature: 작성 환경 커스터마이징

Scenario: 자동 저장 간격 조정
  Given 설정 페이지의 "작성" 섹션에 있다
  When 자동 저장 간격을 "30초"에서 "60초"로 변경한다
  And "저장" 버튼을 클릭한다
  Then 설정이 적용된다
  And 다음 작성부터 60초 간격으로 자동 저장된다
```

### Story 7.2: 테마 설정

```gherkin
Feature: UI 테마 변경

Scenario: 다크 모드 활성화
  Given 라이트 모드로 설정되어 있다
  When 설정에서 "다크 모드" 를 선택한다
  Then 전체 UI가 다크 테마로 변경된다
  And 에디터 배경도 어두운 색으로 변경된다
  And 설정이 브라우저에 저장된다
```

---

## 추가 고려사항

### 접근성 시나리오
```gherkin
Feature: 스크린 리더 지원

Scenario: 시각 장애 사용자 접근
  Given 스크린 리더를 사용하는 사용자다
  When 페이지를 탐색한다
  Then 모든 버튼과 링크에 적절한 aria-label이 있다
  And 키보드만으로 모든 기능에 접근할 수 있다
  And 포커스 인디케이터가 명확하게 표시된다
```

### 오류 처리 시나리오
```gherkin
Feature: 네트워크 오류 처리

Scenario: AI 리뷰 요청 실패
  Given 네트워크가 불안정하다
  When AI 리뷰를 요청한다
  And 요청이 타임아웃된다
  Then "리뷰 생성에 실패했습니다. 다시 시도해주세요" 메시지가 표시된다
  And "재시도" 버튼이 제공된다
  And 이전에 작성한 내용은 보존된다
```

---

**문서 버전**: 1.0  
**최종 수정**: 2025-12-08  
**다음 업데이트**: Week 3 Demo 이후 실제 구현 결과 반영
